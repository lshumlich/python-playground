
<div id="modal">
</div>

<!--<table style="width:100%" class="table-striped">-->
<table class="table-striped">
  <tr>
    <th>Subject</th>
    <th>Order</th>
    <th>Attribute</th>
    <th>Description</th>
    <th>Actions</th>
  </tr>
  {% for dic in datadic %}
  <tr>
    <td>{{ dic.TableName }}</td>
    <td>{{ dic.SortOrder }}</td>
    <td>{{ dic.Attribute }}</td>
    <td>{{ dic.Documentation | safe }}</td>
    <td>
    <a href="#" class="icon icon-edit" onclick=getItem({{ dic.ID }})></a>
    &nbsp;
    <a href="#" class="icon icon-delete" onclick=confirmDelete({{ dic.ID }})></a>
    </td>
  </tr>
  {% endfor %}
</table>
<br>
<button id="addItem" onclick="createItem()">Add Item</button>
<a href="{{ url_for('admin.data_dictionary_get') }}?Subject={{ subject }}" target="_blank">Print</a><br>
<script>
function getItem(id) {
  var idObject = {ID:id};
  $.ajax({
    url: "/admin/datadictionary/get",
    method: "GET",
    data: idObject,
  })
  .done(function(data){
    $('#modal').html(data)
  });
  };

function createItem() {
  var idObject = {ID:"0"};
  $.ajax({
    url: "/admin/datadictionary/get",
    method: "GET",
    data: idObject,
  })
  .done(function(data){
    $('#modal').html(data)
    $("#Subject").val(Subject)
  });
  };

function confirmDelete(id){
  var r = confirm('Are you sure you want to delete Item?');
  if (r == true) {deleteItem(id)}
  else {};
  };

function deleteItem(id) {
  $.ajax({
    url: "/admin/datadictionary/delete",
    data: {ID:id}
  })
  .done(function(data){
    updateList();
  });
  };
</script>
