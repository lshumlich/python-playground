import config
from database.apperror import AppError

def royalty_calc_needs(well_id, month):
    print(config.get_environment())
    db = config.get_database()
    well_array = db.select('Well', ID=well_id)
    if len(well_array) != 1:
        raise AppError("Adrienne.royalty_calc_needs should have only found 1, but we found "+ str(len(well_array))+
                       ". We are only looking for well "+ str(well_id))
    well = well_array[0]
    print(well)
    print("looking for lease", well.LeaseID)


    royalty_array = db.select('lease', ID=well.LeaseID)
    if len(royalty_array) != 1:
        raise AppError("Adrienne.royalty_calc_needs should have only found 1 royalty, but we found "+ str(len(royalty_array))+
                       ". We are only looking for lease "+ str(well.LeaseID))
    royalty = royalty_array[0]
    print(royalty)


royalty_calc_needs(9, 201501)
